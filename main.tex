\documentclass[12pt]{article}

\usepackage{biblatex}
\addbibresource{references.bib}

\usepackage{graphicx} % Required for inserting images
\usepackage[a4paper, margin=0.8in]{geometry}
\usepackage{float}
\usepackage{multirow}
\usepackage{adjustbox}


\title{Procedural world generation and the challenges of rendering in non-Euclidean spaces}
\author{Aleksy Bałaziński \and Karol Denst}
\date{\today}

\begin{document}

\maketitle
\newpage

\tableofcontents
\newpage

\section{Abstract} % A.B.
Procedural generation, as a method used in creating video games, has experienced a significant increase in popularity in recent years.
It has been employed extensively in acclaimed titles such as \textit{Minecraft} and \textit{No Man's Sky} to create virtually infinite worlds that the player is free to interact with.
On the other hand, a recent game \textit{Hyperbolica} shed light onto a novel idea of making the virtual worlds even more interesting by setting them in non-Euclidean spaces.
The objective of this thesis is to create a small video game incorporating both of the aforementioned concepts.


\subsection{History of changes}
\begin{table}[H]
    \centering
    \begin{tabular}{lllll}
        \hline
        Date       & Author                                                                  & Description                        & Version & \\ \hline
        18.10.2023 & \begin{tabular}[c]{@{}l@{}}Aleksy Bałaziński\\ Karol Denst\end{tabular} & Initial description of the project & 1.0     & \\
                   &                                                                         &                                    &         & \\
                   &                                                                         &                                    &         & \\ \hline
    \end{tabular}
\end{table}

\section{Vocabulary} % A.B.
\textbf{Hyperbolic geometry} -- geometry obtained by replacing Euclid's parallel postulate with the following axiom: "For any given line $R$ and point $P$ not on $R$, in the plane containing both line $R$ and point $P$ there are at least two distinct lines through $P$ that do not intersect $R$." \\
\textbf{Elliptic geometry} -- geometry obtained by replacing Euclid's parallel postulate with the following axiom: "Through any point in the plane, there exist no lines parallel to a given line."\\
\textbf{Procedural world generation} -- a technique that allows for creating content (commonly terrain) in a video game, animated movie etc. in an automated manner, that is using an algorithm rather than using manually crafted assets.\\
\textbf{NPC} -- non-player character.\\
\textbf{FPS} -- frames per second.\\
\textbf{GB} -- gigabyte.\\
\textbf{RAM} -- random access memory.\\


\section{Specification} % K.D.

\subsection{Executive summary}

The video game is written in C\#.
The two main libraries used in the development are OpenTK (used for rendering) and BepuPhysics (as the physics engine).
Models used in the game were created in Blender.
Techniques of rendering in non-Euclidean spaces are based on a paper by Szirmay and Kalos.
Terrain generation was implemented using the marching cubes algorithm,
where the underlying scalar field was generated using Perlin noise.

\subsection{Functional requirements}

\begin{table}[H]
    \begin{tabular}{p{0.4\linewidth}|p{0.4\linewidth}|p{0.1\linewidth}}
        \hline
        \textbf{As a player I want to}                            & \textbf{So that}                                                   & \textbf{Flags} \\ \hline
        Start a game in Euclidean space                           & I can explore Euclidean spaces                                     & Must           \\
        Start a game in hyperbolic space                          & I can explore hyperbolic spaces                                    & Must           \\
        Start a game in spherical space                           & I can explore spherical space                                      & Must           \\
        Have gravity in the game                                  & I have Earth-like experience                                       & Must           \\
        Can collide with other objects in the game                & I can interact with other objects                                  & Must           \\
        Be able to move around                                    & I can explore the world                                            & Must           \\
        Be able to jump                                           & I can jump                                                         & Must           \\
        Be able to shoot projectiles                              & I can see how things move in non-Euclidean spaces                  & Must           \\
        Have a limited number of projectiles in the inventory     & The game is more realistic                                         & Must           \\
        Be able to interact with NPCs                             & So that there is more to do in the game                            & Should         \\
        Have NPCs move around                                     & The world looks more rich                                          & Must           \\
        Edit the terrain                                          & I can view any structure in different spaces                       & Must           \\
        See the marker of the terrain editor                      & I can decide where the terrain modification is going to take place & Must           \\
        Have different terrain generated every time I load a game & I can explore different terrains                                   & Must           \\
        Have light sources that illuminate other objects          & I can see what lighting looks like in different spaces             & Must           \\
        See a night/day cycle                                     & I can compare the world during the day and the night               & Should         \\
        Have a vehicle I can enter                                & Move around faster                                                 & Must           \\
        Have a vehicle with suspension springs                    & I can drive around comfortably                                     & Must           \\
        Have a vehicle that has two top velocities                & I can drive faster if I get bored                                  & Must           \\
        Have models for the player and NPCs                       & Characters look good                                               & Must           \\
        Have model for the vehicle                                & Vehicle looks good                                                 & Must           \\
        Have an inventory                                         & I can manage different items                                       & Must           \\
        Have objects cast shadows                                 & I can explore what shadows look like in different spaces           & Should         \\
        Have a way to save/load a game                            & Be able to store interesting worlds                                & Must           \\
        Be able to save a game                                    & I can save interesting worlds                                      & Must           \\
        Be able to load a game                                    & I can revisit interesting worlds                                   & Must           \\
        Have a CLI                                                & I can manage my saves and other game options                       & Must           \\
        Have a \texttt{help} option in the CLI                    & I know what commands are available and what they do                & Must           \\
        Have GUI                                                  & I can manage my saves easily                                       & Should         \\ \hline
    \end{tabular}
    \caption{Player functional requirements}
\end{table}

\subsection{Non-functional requirements}

\begin{table}[H]
    \begin{tabular}{|p{0.25\linewidth}|p{0.2\linewidth}|p{0.4\linewidth}|}
        \hline
        \textbf{Requirements area} & \textbf{Requirement \#} & \textbf{Description}                                                                                                                  \\ \hline
        Functionality              & 1                       & The application should offer world generation in 3 different spaces as well as means to explore them.                                 \\ \hline
        Usability                  & 2                       & The application should have a menu and gameplay controls.                                                                             \\ \hline
        Reliability                & 3                       & The application should run without crashing or memory leaks for extended periods of time.                                             \\ \hline
        Performance                & 4                       & The application should run at 60 FPS with a resolution of 1920x1080 on a computer with at least Intel Core i7-1260P and 16 GB of RAM. \\ \hline
        Sustainability             & 5                       & The game should save logs and world data to make solving any potential bugs easier.                                                   \\ \hline
    \end{tabular}
    \caption{Project non-functional requirements}
\end{table}


\section{Project schedule} % K.D.

\begin{table}[H]
    \begin{tabular}{lll}
        \hline
        \textbf{Task}                                       & \textbf{Begin Date}          & \textbf{End Date}            \\ \hline
        Implement a basic OpenTK application                & \multirow{16}{*}{01/10/2023} & \multirow{16}{*}{19/10/2023} \\
        Implement terrain generation                        &                              &                              \\
        Implement lighting                                  &                              &                              \\
        Implement mining/building                           &                              &                              \\
        Implement collision physics                         &                              &                              \\
        Add gravity                                         &                              &                              \\
        Add a drivable car                                  &                              &                              \\
        Implement loading and displaying models             &                              &                              \\
        Implement model animation                           &                              &                              \\
        Implement shooting projectiles                      &                              &                              \\
        Implement ray casting                               &                              &                              \\
        Add NPCs                                            &                              &                              \\
        Implement inventory system                          &                              &                              \\
        Implement a simple CLI                              &                              &                              \\
        Implement displaying hitboxes                       &                              &                              \\
        Implement load and save system for the game         &                              &                              \\ \hline
        Add better models for NPCs, vehicles and the player & 19/10/2023                   & 02/11/2023                   \\ \hline
        Add shadows                                         & 19/10/2023                   & 09/11/2023                   \\ \hline
        Add day/night cycle                                 & 02/11/2023                   & 16/11/2023                   \\ \hline
        Add a menu                                          & 17/11/2023                   & 01/12/2023                   \\ \hline
        Implement hyperbolic space                          & \multirow{3}{*}{01/10/2023}  & \multirow{3}{*}{07/12/2023}  \\
        Implement spherical space                           &                              &                              \\
        Add different terrains to the generation            &                              &                              \\ \hline
    \end{tabular}
    \caption{Project schedule}
\end{table}

\section{Risk analysis} % A.B.

\begin{table}[H]
    \centering
    \begin{tabular}{|p{0.15\linewidth}|p{0.4\linewidth}|p{0.4\linewidth}|}
        \hline
        \textbf{SWOT} & \textbf{Threats}                                                                             & \textbf{Opportunities} \\ \hline
        \textbf{Internal}
                      & \begin{itemize}
                            \itemsep0em
                            \item Not enough time to implement all features
                            \item Bad design decisions hindering further development
                            \item Failure to implement rendering in non-Euclidean spaces
                        \end{itemize}
                      &
        \begin{itemize}
            \itemsep0em
            \item Project developed with best practices in mind, resulting in easily extensible code.
            \item Project employs the techniques of object-oriented programming to make it easier to manage state by exposing simple, well-defined interfaces.
            \item Project is well documented, making it easier to understand the code base.
        \end{itemize}
        \\ \hline
        \textbf{External}
                      &
        \begin{itemize}
            \itemsep0em
            \item External libraries don't support highly specific features
            \item Poor documentation (or lack thereof) for external libraries
        \end{itemize}
                      & \begin{itemize}
                            \itemsep0em
                            \item Sparking interest in non-Euclidean geometries
                            \item Proposed methods of rendering non-Euclidean geometries could be used in other projects
                        \end{itemize}                           \\  \hline
    \end{tabular}

\end{table}

\newpage
\section{References}
\printbibliography

\end{document}
